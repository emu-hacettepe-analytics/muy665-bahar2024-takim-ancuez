---
title: "Türkiye'de Taşıt Sahipliği ve Kullanımı: Veriler ve Eğilimler"
number-sections: true
---

**Proje sayfamıza hoş geldiniz.**

<iframe src="https://giphy.com/embed/B1CrvUCoMxhy8" width="480" height="198" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>

# Proje Genel Bakış ve Kapsamı

xxxxxx

# Veri

xxxxxx

## Veri Kaynağı

xxxxxx

## Veri Hakkında Genel Bilgiler

xxxxxx

## Tercih Sebebi

xxxxxx

## Ön İşleme

xxxxxx

# Analiz

## **Türkiye'de Benzin, Dizel, LPG ve Diğer Yakıt Türlerine Göre Taşıt Dağılımı**

Türkiye'deki taşıt sahipliği ve kullanımı, ülkenin ekonomik ve sosyal dinamiklerini gösteren önemli bir gösterge olarak öne çıkıyor. Bu alandaki analizler, taşıtların farklı yakıt türlerine göre dağılımını ve taşıt tercihlerinin nasıl değiştiğini anlamamıza yardımcı oluyor. Bu çalışmanın amacı, Türkiye'deki benzin, dizel, LPG ve diğer yakıt türlerini kullanan araç sayılarını incelemek ve ülkenin taşıt portföyündeki eğilimleri ve değişiklikleri belirlemektir. Bu analiz, taşıt endüstrisindeki değişiklikleri anlamak ve gelecekteki taşıt tercihlerini tahmin etmek için önemli bir bakış sunuyor.

``` r
library(readxl)

# Excel dosyasını oku
data <- read_excel("../muy665-bahar2024-takim-ancuez/dataset/yakit.xlsx")

# Sütunlardaki verileri temizle ve nümerik hale getir
clean_numeric <- function(column) {
    column <- gsub(" ", "", column)  # Boşlukları kaldır
    column <- gsub(",", "", column)  # Virgülleri kaldır
    as.numeric(column)  # Nümerik hale getir
}

# Sütunları temizleyip nümerik hale getirme
data$Benzin <- clean_numeric(data$Benzin)
data$Dizel <- clean_numeric(data$Dizel)
data$LPG <- clean_numeric(data$LPG)
data$Hibrit <- clean_numeric(data$Hibrit)
data$Elektrik <- clean_numeric(data$Elektrik)
data$Bilinmeyen <- clean_numeric(data$Bilinmeyen)

# Grafik için verileri hazırla
x <- data$Yil
y1 <- data$Benzin
y2 <- data$Dizel
y3 <- data$LPG
y4 <- data$Hibrit
y5 <- data$Elektrik
y6 <- data$Bilinmeyen

# En yüksek değeri hesapla
max_y <- max(c(y1, y2, y3, y4, y5, y6), na.rm = TRUE) * 1.1

# Y ekseni aralıklarını hesapla
y_ticks <- pretty(c(0, max_y))

# Bilimsel gösterim yerine normal sayılar kullanmak için formatlama
y_labels <- format(y_ticks, scientific = FALSE)

# Grafiği çiz
plot(x, y1, type = "l", col = "blue", lwd = 3, ylim = c(0, max_y), xlab = "Yıl", ylab = "Araç   Sayısı", main = "Trafige Kayıtlı Otomobillerin Yakıt Cinsi Tabanlı Dağılımı", yaxt = "n")
lines(x, y2, col = "red", lwd = 3)
lines(x, y3, col = "green", lwd = 3)
lines(x, y4, col = "purple", lwd = 3)
lines(x, y5, col = "orange", lwd = 3)
lines(x, y6, col = "gray", lwd = 3)

# Y ekseni aralıklarını ekle
axis(2, at = y_ticks, labels = y_labels)

# Legend ekle
legend("topright", legend = c("Benzin", "Dizel", "LPG", "Hibrit", "Elektrik", "Bilinmeyen"), col = c("blue", "red", "green", "purple", "orange", "gray"), lty = 1, lwd = 2, cex = 0.8)
```

![](images/yakit_cinsi_grafik_1.PNG){fig-align="center"}

## Elektrikli Taşıtlar: Türkiye'de 2034'e Kadar Beklenen Dönüşüm

Türkiye'de elektrikli taşıtların 2034'e kadar beklenen dönüşümü, önemli bir değişimin habercisi olmuştur. Bu süreçte, çevresel endişelerin artması ve teknolojik gelişmelerin ivme kazanmasıyla elektrikli araçlar ön plana çıkabilir. Bu grafik, Türkiye'deki elektrikli araç endüstrisi için geleceğe yönelik önemli bir bakış sunabilir.

``` {.R .R}
library(readxl)
library(forecast)
library(tseries)

# Excel dosyasını oku
data <- read_excel("../muy665-bahar2024-takim-ancuez/dataset/yakit.xlsx")

# Sütunlardaki verileri temizle ve nümerik hale getir
clean_numeric <- function(column) {
  column <- gsub(" ", "", column)  # Boşlukları kaldır
  column <- gsub(",", "", column)  # Virgülleri kaldır
  as.numeric(column)  # Nümerik hale getir
}

# Sütunları temizleyip nümerik hale getirme
data$Benzin <- clean_numeric(data$Benzin)
data$Dizel <- clean_numeric(data$Dizel)
data$LPG <- clean_numeric(data$LPG)
data$Hibrit <- clean_numeric(data$Hibrit)
data$Elektrik <- clean_numeric(data$Elektrik)
data$Bilinmeyen <- clean_numeric(data$Bilinmeyen)

# Elektrikli araçlar verisini al
elektrik <- data$Elektrik

# NA değerlerini kontrol et ve eksik değerleri doldur
if (anyNA(elektrik)) {
  mean_val <- mean(elektrik, na.rm = TRUE)
  elektrik[is.na(elektrik)] <- mean_val
  cat("Eksik değerler ortalama ile dolduruldu. Ortalama değer:", mean_val, "\n")
}

# Zaman serisi verisi oluştur
elektrik_ts <- ts(elektrik, start = min(data$Yil), end = max(data$Yil), frequency = 1)

# ARIMA modeli oluştur
fit <- arima(elektrik_ts, order = c(2,1,1))

# Gelecek 10 yıl için tahmin yap
forecasts <- forecast(fit, h = 10)

# Tahmin sonuçlarını tablo halinde göster
prediction_results <- data.frame(Yil = seq(max(data$Yil) + 1, max(data$Yil) + 10), Tahmini_Elektrik_Arac_Sayisi = as.numeric(forecasts$mean))
print(prediction_results)

# Mevcut ve tahmini değerleri birlikte çiz
plot(forecasts, xlim = c(min(data$Yil), max(data$Yil) + 10), xlab = "Yıl", ylab = "Elektrikli Araç   Sayısı", main = "Elektrikli Araç   Sayısı Tahmini (ARIMA)", col = "blue")
lines(elektrik_ts, col = "red", lwd = 2)

# Y ekseninin bilimsel gösterimini devre dışı bırak
options(scipen = 10)

# Y eksenini ekle
axis(2, ylim = c(0, max(max(elektrik_ts), max(forecasts$mean)) * 1.1))

# Legend ekle
legend("topleft", legend = c("Gerçek Degerler", "Tahminler"), col = c("red", "blue"), lty = 1, lwd = 2, cex = 0.8)
```

![](images/elektrikli_arac_tahmin.PNG){fig-align="center"}


## 2024 Yılında Türkiye'de Bölgelere Göre Kara Taşıtlarının Sayısının Dağılımları

Türkiye'de kara taşıtı araçlarının sayısının bölgelere göre dağılımını da incelemek istedik. Aslında beklenen sonuçlara proje başında geneel bir bakış sunarak, illere göre dağılım analizlerini yapacağımızda bize bir temel oluşturuyor. Nüfusla bağlantılı olarak Marmara Bölgesi'nde büyük bir pay bekleniyordu. Ancak Türkiye'de yaklaşık her 3 kara taşıtından birinin Marmara Bölgesi'nde olması ilginç bir sonuç olarak karşımıza çıkıyor. Çalışmamızın devamında illerdeki kişi başına düşen araç sayısına bakacağımızda sonucun nasıl olacağını birlikte göreceğiz. 
```{r}
library(readr)
library(readxl)
library(dslabs)
library(tidyverse)
library(dplyr)
library(ggthemes)

#Excel dosyasını oku
veri <- read_excel("/Users/ozgurkaya/Documents/GitHub/muy665-bahar2024-takim-ancuez/dataset/illere göre araç sayısı.xls")

#İlleri bölgelere göre ayırma
bolgeler <- list(
  "Marmara" = c("İstanbul", "Kırklareli", "Bursa", "Edirne", "Kocaeli", "Sakarya", "Tekirdağ", "Balıkesir", "Çanakkale", "Yalova", "Bilecik"),
  "Ege" = c("İzmir", "Aydın", "Muğla", "Manisa", "Denizli", "Afyonkarahisar", "Kütahya", "Uşak"),
  "Akdeniz" = c("Antalya", "Mersin", "Adana", "Isparta", "Burdur", "Hatay", "Osmaniye", "Kahramanmaraş"),
  "İçAnadolu" = c("Ankara", "Konya", "Eskişehir", "Kayseri", "Sivas", "Yozgat", "Kırıkkale", "Kırşehir", "Niğde", "Aksaray", "Karaman", "Nevşehir", "Çankırı"),
  "Karadeniz" = c("Trabzon", "Bayburt", "Samsun", "Ordu", "Gümüşhane", "Giresun", "Rize", "Artvin", "Sinop", "Kastamonu", "Çorum", "Amasya", "Tokat", "Zonguldak", "Bartın", "Karabük", "Bolu", "Düzce"),
  "DoğuAnadolu" = c("Malatya", "Elazığ", "Erzincan", "Erzurum", "Van", "Ağrı", "Muş", "Bingöl", "Bitlis", "Tunceli", "Hakkari", "Iğdır", "Kars", "Ardahan"),
  "GüneydoğuAnadolu" = c("Gaziantep", "Diyarbakır", "Şanlıurfa", "Mardin", "Batman", "Şırnak", "Siirt", "Adıyaman", "Kilis")
)

# Her bölgedeki illeri filtreleyip değişkenlere atama
marmara <- veri %>% filter(İl %in% bolgeler$Marmara)
ege <- veri %>% filter(İl %in% bolgeler$Ege)
akdeniz <- veri %>% filter(İl %in% bolgeler$Akdeniz)
ic_anadolu <- veri %>% filter(İl %in% bolgeler$İçAnadolu)
karadeniz <- veri %>% filter(İl %in% bolgeler$Karadeniz)
dogu_anadolu <- veri %>% filter(İl %in% bolgeler$DoğuAnadolu)
guneydogu_anadolu <- veri %>% filter(İl %in% bolgeler$GüneydoğuAnadolu) 

# Bölgelere göre toplam araç sayılarını hesaplama
bolge_toplamlari <- veri %>%
  mutate(Bolge = case_when(
    İl %in% bolgeler$Marmara ~ "Marmara",
    İl %in% bolgeler$Ege ~ "Ege",
    İl %in% bolgeler$Akdeniz ~ "Akdeniz",
    İl %in% bolgeler$`İçAnadolu` ~ "İç Anadolu",
    İl %in% bolgeler$Karadeniz ~ "Karadeniz",
    İl %in% bolgeler$`DoğuAnadolu` ~ "Doğu Anadolu",
    İl %in% bolgeler$`GüneydoğuAnadolu` ~ "Güneydoğu Anadolu",
    TRUE ~ "Diğer"
  )) %>%
  group_by(Bolge) %>%
  summarise(Total_Arac_Sayisi = sum(Toplam, na.rm = TRUE))

# Yüzdeleri hesaplama
bolge_toplamlari <- bolge_toplamlari %>%
  mutate(Yuzde = Total_Arac_Sayisi / sum(Total_Arac_Sayisi) * 100)

# Bölgelere Göre Toplam Araç Sayılarının Pasta Grafiğini Oluşturma
ggplot(bolge_toplamlari, aes(x = "", y = Yuzde, fill = Bolge)) +
  geom_bar(width = 1, stat = "identity") +
  coord_polar("y") +
  labs(title = "Bölgelere Göre Toplam Araç Sayılarının Yüzdeleri", x=NULL, y=NULL) +
  theme_minimal() +
  theme(axis.text.x = element_blank()) +
  geom_text(aes(label = paste0(round(Yuzde, 1), "%")), position = position_stack(vjust = 0.5))
  

```

![](images/bölgelere göre toplam araç sayısı.PNG){fig-align="center"}


## 2024 Yılında Türkiye'de İllere Göre Kara Taşıtlarının Dağılımları

Bu kısımda öncelikle illere göre toplam kara taşıtı sayılarını inceledik. Beklendiği üzere araç sayılarının en fazla olduğu iller büyükşehirler oldu. Bu da aslında gelişmişlikle ve ekonomik durumla tam ilişkilendirilemedi çünkü büyükşehirlerin nüfusu daha fazla. En fazla araç sayısına sahip 10 il grafikte gösterildi. 

```{r}
library(readxl)
library(dslabs)
library(tidyverse)
library(dplyr)
library(ggthemes)

#Excel dosyasını oku
veri <- read_excel("/Users/ozgurkaya/Documents/GitHub/muy665-bahar2024-takim-ancuez/dataset/illere göre araç sayısı.xls")

# "Toplam" verisini çıkarın
veri_filtreli <- veri %>% filter(İl != "Toplam")

# Toplam araç sayısına göre veriyi azalan sırada sıralayın
veri_sirali <- veri_filtreli %>% arrange(desc(Toplam))
# Toplam araç sayısı en yüksek olan 10 ili seçin
en_yuksek_arac <- veri_sirali %>% top_n(10, Toplam)

# Toplam araç sayısının en yüksek olduğu 10 ilin grafiğini çizdirin
ggplot(en_yuksek_arac, aes(x = reorder(İl, Toplam), y = Toplam)) +
  geom_bar(stat = "identity", fill = "navy") +
  geom_text(aes(label = Toplam), vjust = -0.5, color = "black") +
  labs(title = "Toplam Araç Sayısının En Yüksek Olduğu 10 İl",
       x = NULL,
       y = NULL) +
  theme_fivethirtyeight() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

![](images/illere göre toplam araç sayısı.PNG){fig-align="center"}


## 2024 Yılında Türkiye'de İllere Göre Kişi Başına Düşen Kara Taşıtı Sayısı

Bu bölümde ise kişi başına düşen araç sayısının en yüksek olduğu illeri inceledik. Araç sayısının en yüksek olduğu iller olan İstanbul, Ankara ve İzmir kişi başına düşen araç sayısının en yüksek olduğu iller arasında yer almadı. Muğla, Antalya, Çanakkale, Aydın gibi tatil yöreleri listenin zirvesinde yer aldı. Bu durumu da bu gibi tatil bölgelerinde yaşayan insanların ekonomik durumlarının daha iyi olabiliceğiyle ilişkilendirdik. Maddi durumları iyi, emekli olmuş ve genelde her ailede araç sayısının 1'den fazla olduğu insanların bu bölgede yaşadığının bilinmesi de bu ilişkilendirmenin temelini oluşturdu. 

```{r}
library(readr)
library(readxl)
library(dslabs)
library(tidyverse)
library(dplyr)
library(ggthemes)

#Excel dosyasını okuma
veri <- read_excel("/Users/ozgurkaya/Documents/GitHub/muy665-bahar2024-takim-ancuez/dataset/illere göre araç sayısı.xls")

veri_filtreli <- veri %>% filter(İl != "Toplam")

# Nüfus ve toplam araç sayısı sütunlarını sayısal tipe dönüştürün
veri_filtreli$Toplam <- as.numeric(gsub("[^0-9]", "", veri_filtreli$Toplam))
veri_filtreli$Nüfus <- as.numeric(gsub("[^0-9]", "", veri_filtreli$Nüfus))

# Herhangi bir dönüştürme hatasını kontrol edin (örneğin, NA değerler)
summary(veri_filtreli$Nüfus)
summary(veri_filtreli$Toplam)

# Kişi başına düşen araç sayısını hesaplayın
kisi_basina_dusen_arac <- veri_filtreli$Toplam / veri_filtreli$Nüfus

# Veriye kişi başına düşen araç sayısını ekleyin
veri_filtreli <- veri_filtreli %>%
  mutate(Kisi_Basina_Arac_Sayisi = kisi_basina_dusen_arac)

# Kişi başına düşen araç sayısına göre veriyi azalan sırada sıralayın
veri_sirali <- veri_filtreli %>% arrange(desc(Kisi_Basina_Arac_Sayisi))

# Kişi başına düşen araç sayısı en yüksek olan 10 ili seçin
en_yuksek_kisi_basi_arac <- head(veri_sirali, 10)

# Kişi başına düşen araç sayısının en yüksek olduğu 10 ilin grafiğini çizdirin
ggplot(en_yuksek_kisi_basi_arac, aes(x = reorder(İl, Kisi_Basina_Arac_Sayisi), y = Kisi_Basina_Arac_Sayisi)) +
  geom_bar(stat = "identity", fill = "navy") +
  geom_text(aes(label = round(Kisi_Basina_Arac_Sayisi, 2)), vjust = 0, hjust = 0.5, color = "black") +
  labs(title = "Kişi Başına Düşen Araç Sayısı",
       x = NULL,
       y = "Kişi Başına Düşen Araç Sayısı", hjust=1) +
  theme_fivethirtyeight() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
        


```

![](images/Kişi Başına Düşen Araç Sayısı.PNG){fig-align="center"}






## Keşifsel Veri Analizi

xxxxxx

## Trend Analizi

xxxxxx

## Model Uydurma

xxxxxx

## Sonuçlar

xxxxxx

# Sonuçlar ve Ana Çıkarımlar

xxxxxx
